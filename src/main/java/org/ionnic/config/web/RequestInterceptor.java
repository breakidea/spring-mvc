package org.ionnic.config.web;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import org.ionnic.config.ActionSupport;import org.springframework.web.method.HandlerMethod;import org.springframework.web.servlet.ModelAndView;import org.springframework.web.servlet.handler.HandlerInterceptorAdapter;public class RequestInterceptor extends HandlerInterceptorAdapter {	@Override	public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception {		if (!response.isCommitted()) {			if (null == response.getContentType()) {				response.setContentType("text/html; charset=UTF-8");			}		}	}	@Override	public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {		if (handler instanceof HandlerMethod) {			HandlerMethod action = (HandlerMethod) handler;			if (action.getBean() instanceof ActionSupport) {				ActionSupport bean = (ActionSupport) action.getBean();				bean.init(request, response, action);			}		}		request.setCharacterEncoding("UTF-8");		response.setCharacterEncoding("UTF-8");		return true;	}}